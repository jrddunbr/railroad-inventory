{% extends "base.html" %}
{% block content %}
  <div class="box">
    <h1>PRR Home Shop Repair Form</h1>
    <form method="post" action="{{ url_for('main.prr_home_shop_repair') }}" data-confirm-skip="true">
      <div style="margin-bottom: 12px;">
        <label for="via">Via</label>
        <input id="via" name="via" value="{{ form_data.get('via', '') }}" placeholder="nearest interchange point or junction with owner" />
      </div>
      <div style="margin-bottom: 12px;">
        <label for="from_value">From</label>
        <input id="from_value" name="from_value" value="{{ form_data.get('from_value', '') }}" />
      </div>
      <div style="margin-bottom: 12px;">
        <label for="date_value">Date</label>
        <input id="date_value" name="date_value" value="{{ form_data.get('date_value', '') }}" />
      </div>
      <div style="margin-bottom: 12px;">
        <label for="main_defects">Main Defects</label>
        <input id="main_defects" name="main_defects" value="{{ form_data.get('main_defects', '') }}" />
      </div>
      <div style="margin-bottom: 12px;">
        <label for="car_initials">Car Initials</label>
        <input id="car_initials" name="car_initials" value="{{ form_data.get('car_initials', '') }}" />
      </div>
      <div style="margin-bottom: 12px;">
        <label for="car_number">No.</label>
        <input id="car_number" name="car_number" value="{{ form_data.get('car_number', '') }}" />
      </div>
      <div style="margin-bottom: 12px;">
        <label for="inspector">Inspector</label>
        <input id="inspector" name="inspector" value="{{ form_data.get('inspector', '') }}" />
      </div>
      <div style="margin-bottom: 12px;">
        <label>Responsibility</label>
        <div class="actions buttons" style="margin-top: 0;">
          <label>
            <input type="radio" name="responsibility" value="Owner" {% if form_data.get('responsibility') == 'Owner' %}checked{% endif %} />
            Owner
          </label>
          <label>
            <input type="radio" name="responsibility" value="Railroad" {% if form_data.get('responsibility') == 'Railroad' %}checked{% endif %} />
            Railroad
          </label>
        </div>
      </div>
      <div class="actions buttons">
        <button type="submit" class="button is-small is-primary">Done</button>
        <a href="{{ url_for('main.tools') }}">Back to Tools</a>
      </div>
    </form>
  </div>

  {% if image_filename %}
    <div class="box" style="margin-top: 16px;">
      <h2>Generated Form</h2>
      <a href="{{ url_for('main.prr_home_shop_render', file=image_filename) }}">
        <img src="{{ url_for('static', filename='tools/generated/' ~ image_filename) }}" alt="PRR Home Shop Repair Form" style="max-width: 100%; height: auto;" />
      </a>
    </div>
  {% endif %}
{% endblock %}
